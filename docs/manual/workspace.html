<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Badger</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-badger.css"><meta name="description" content="Component based framework and utility modules"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Badger"><meta property="twitter:description" content="Component based framework and utility modules"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.svg" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/abw/badger-js"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#warning" data-ice="link">Warning</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/filesystem.html"><a href="manual/filesystem.html" data-ice="link">Filesystem Utilities</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directories" data-ice="link">Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#reading-files" data-ice="link">Reading Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#writing-files" data-ice="link">Writing Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directory-object" data-ice="link">Directory Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#file-objects" data-ice="link">File Objects</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/codecs.html"><a href="manual/codecs.html" data-ice="link">Data Codecs</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#read-data-files" data-ice="link">Read Data Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#write-data-files" data-ice="link">Write Data Files</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/config_files.html"><a href="manual/config_files.html" data-ice="link">Configuration Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-object" data-ice="link">Config Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-directory" data-ice="link">Config Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#multiple-config-directories" data-ice="link">Multiple Config Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#loading-a-config-file" data-ice="link">Loading a Config File</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#javascript-files" data-ice="link">Javascript Files</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#yaml-or-json-files" data-ice="link">YAML or JSON Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#configuration-options" data-ice="link">Configuration Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#benefits" data-ice="link">Benefits</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/library_modules.html"><a href="manual/library_modules.html" data-ice="link">Library Modules</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-object" data-ice="link">Library Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-directory" data-ice="link">Library Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#multiple-library-directories" data-ice="link">Multiple Library Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#loading-a-library-module" data-ice="link">Loading a Library Module</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#configuration-options" data-ice="link">Configuration Options</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/data_paths.html"><a href="manual/data_paths.html" data-ice="link">Data Paths</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#config-files" data-ice="link">Config Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#optional-items" data-ice="link">Optional Items</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#quoted-path-segments" data-ice="link">Quoted Path Segments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#javascript-library-exports" data-ice="link">Javascript Library Exports</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#navigating-your-own-data" data-ice="link">Navigating Your Own Data</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/workspace.html"><a href="manual/workspace.html" data-ice="link">Workspace</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#workspace-directory" data-ice="link">Workspace Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#directories" data-ice="link">Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#files" data-ice="link">Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#configuration-files" data-ice="link">Configuration Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#javascript-libraries" data-ice="link">Javascript Libraries</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#javascript-components" data-ice="link">Javascript Components</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#configuration-options" data-ice="link">Configuration Options</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/command_line.html"><a href="manual/command_line.html" data-ice="link">Command Line Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/command_line.html"><a href="manual/command_line.html#simple-example" data-ice="link">Simple Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/command_line.html"><a href="manual/command_line.html#special-options" data-ice="link">Special Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/command_line.html"><a href="manual/command_line.html#commands" data-ice="link">Commands</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/command_line.html"><a href="manual/command_line.html#sections" data-ice="link">Sections</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/command_line.html"><a href="manual/command_line.html#generated-configuration" data-ice="link">Generated Configuration</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html" data-ice="link">Miscellaneous Functions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#ansi-colors" data-ice="link">ANSI Colors</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#debugging" data-ice="link">Debugging</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#exit" data-ice="link">Exit</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#user-input" data-ice="link">User Input</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#command-line-args" data-ice="link">Command Line Args</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#app-status" data-ice="link">App Status</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#progress" data-ice="link">Progress</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="workspace">Workspace</h1><p>The <a href="class/src/Badger/Workspace.js~Workspace">Workspace</a> module provides a
convenient "hub" for accessing directories, files, configuration files,
libraries and other resources for your project.</p>
<ul>
<li><a href="#workspace-directory">Workspace Directory</a></li>
<li><a href="#directories">Directories</a></li>
<li><a href="#files">Files</a></li>
<li><a href="#configuration-files">Configuration Files</a></li>
<li><a href="#javascript-libraries">Javscript Libraries</a></li>
<li><a href="#configuration-options">Configuration Options</a></li>
</ul>
<h2 id="workspace-directory">Workspace Directory</h2><p>Create a new Workspace object and provide it with the workspace directory.
This is usually the top-level directory of your project.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { Workspace } from '@abw/badger'

const workspace = new Workspace('/path/to/project')</code></code></pre>
<p>You can specify an absolute directory path, the path of a directory relative to
your current location, or a <a href="class/src/Badger/Directory.js~Directory">Directory</a>
directory object.  The <a href="function#static-function-bin">bin</a> function can be used to
determine the directory in which a script is located.</p>
<p>For example, if you have a <code>bin/myscript.js</code> file, you can create a workspace
for the parent directory like so:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { bin, Workspace } from '@abw/badger'

const workspace = new Workspace(
  bin().parent()
)</code></code></pre>
<h2 id="directories">Directories</h2><p>The <a href="class/src/Badger.js~Workspace#instance-method-dir">dir()</a> method is a shortcut
to fetch a <a href="class/src/Badger/Filesystem/Directory.js~Directory">Directory</a> object for any
directory relative to the workspace directory.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const tmpdir = workspace.dir('tmp');</code></code></pre>
<h2 id="files">Files</h2><p>The <a href="class/src/Badger.js~Workspace#instance-method-file">file()</a> method is a shortcut
to fetch a <a href="class/src/Badger/Filesystem/File.js~File">File</a> object for any
file relative to the workspace directory.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const wibble = workspace.file('tmp/wibble.log');</code></code></pre>
<h2 id="configuration-files">Configuration Files</h2><p>The <a href="class/src/Badger.js~Workspace#instance-method-config">config()</a> method is a shortcut
to load data from a configuration file using the <a href="class/src/Badger/Config.js~Config">Config</a>
module.</p>
<p>The default location for configuration files is the <code>config</code> directory relative to the workspace
directory.  See <a href="#config-options">configuration options</a> below for details on how to change this.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">workspace.config('animals').then(
  data =&gt; console.log("Data from the config/animals(.js|.mjs|.yaml|.json) file", data)
)</code></code></pre>
<h2 id="javascript-libraries">Javascript Libraries</h2><p>The <a href="class/src/Badger.js~Workspace#instance-method-library">library()</a> method is a shortcut
to load a Javascript library from one of the library directories using the
<a href="class/src/Badger/Library.js~Library">Library</a> module.</p>
<p>The default search path for libary files is any of the <code>lib</code>, <code>library</code>, <code>src</code> or <code>components</code>
directories relative to the workspace directory.  See <a href="#config-options">configuration options</a>
below for details on how to change this.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">workspace.config('animals').then(
  data =&gt; console.log("Data from the config/animals(.js|.mjs|.yaml|.json) file", data)
)</code></code></pre>
<h2 id="javascript-components">Javascript Components</h2><p>The <a href="class/src/Badger.js~Workspace#instance-method-component">component(uri, props)</a> method can
be called to create a new component object.  The <code>uri</code> argument should be the base name of the
component.</p>
<p>If there is a configuration file matching the <code>uri</code> in the configuration directory
then it will be loaded (via the
<a href="class/src/Badger.js~Workspace#instance-method-config">config(uri)</a> method) and used as
the default configuration for the object.  The optional <code>props</code> can be defined
to refine this configuration.</p>
<p>The corresponding library file will then be loaded from the library directory
(via the <a href="class/src/Badger.js~Workspace#instance-method-library">library(uri)</a> method).
This should have a default export which is the component class, implemented as a subclass
of the <a href="class/src/Badger/Component.js~Component">Component</a> base class.</p>
<p>An instance of the component class is then instantiated, passing a reference to the
workspace and the configuration options.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">workspace.component('Hello').then(
  hello =&gt; console.log('loaded hello component: ', hello)
)</code></code></pre>
<p>The above example is roughly equivalent to:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">workspace.config('Hello').then(
  config =&gt; workspace.library('Hello')
    .then( library =&gt; new library.default(workspace, config) )
    .then( hello =&gt; console.log('loaded Hello component: ', hello) )
)</code></code></pre>
<p>The default behaviour is to look for configuration and library files with
the same case as specified.  For example, requesting a component named
<code>my/component</code> will look for a <code>my/component.(js|mjs|yaml|json)</code>
configuration file and a <code>my/component.(js|mjs)</code> library file.</p>
<p>The <code>case</code> option can be used to provide functions for mapping <code>config</code> or
<code>library</code> file names to a different case.  For example, if your
configuration files use snake case but your library modules are defined
in Pascal case (aka StudlyCaps), then you can map the <code>library</code> names using
the <a href="https://abw.github.io/badger-utils/docs/manual/text.html#snaketostudly-snake-">snakeToStudly</a>
function provided by <a href="https://github.com/abw/badger-utils">@abw/badger-utils</a>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { Workspace } from '@abw/badger'
import { snakeToStudly } from '@abw/badger-utils'

const workspace = new Workspace(
  '/path/to/project',
  case: {
    library: snakeToStudly
  }
)
workspace.component('my/component').then(
  // config file should be something like config/my/component.yaml
  // library file should be something like lib/My/Component.js
  // ...etc...
)</code></code></pre>
<h2 id="configuration-options">Configuration Options</h2><p>The <code>config</code> option can be provided to configure the <a href="class/src/Badger/Config.js~Config">Config</a>
object that the workspace used to load configuration files.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const workspace = new Workspace(
  '/path/to/workspace',
  {
    config: {
        dir:   'cfg',
        codec: 'json',
        jsExt: 'js',
    }
  }
)</code></code></pre>
<p>You can specify multiple directories to search for configuration files.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const workspace = new Workspace(
  '/path/to/workspace',
  {
    config: {
      dir:   ['cfg', 'config'],
    }
  }
)</code></code></pre>
<p>The <code>library</code> option can be provided to configure the <a href="class/src/Badger/Library.js~Library">Library</a>
object that the workspace used to load Javascript libraries.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const workspace = new Workspace(
  '/path/to/workspace',
  {
    library: {
      dir:   'lib',
      jsExt: 'js',
    }
  }
)</code></code></pre>
<p>You can specify multiple directories to search for Javascript libraries.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const workspace = new Workspace(
  '/path/to/workspace',
  {
    library: {
      dir: ['src', 'lib'],
    }
  }
)</code></code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>


</body></html>