<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Badger</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-badger.css"><meta name="description" content="Component based framework and utility modules"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Badger"><meta property="twitter:description" content="Component based framework and utility modules"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.svg" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/abw/badger-js"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#warning" data-ice="link">Warning</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/filesystem.html"><a href="manual/filesystem.html" data-ice="link">Filesystem Utilities</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directories" data-ice="link">Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#reading-files" data-ice="link">Reading Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#writing-files" data-ice="link">Writing Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directory-object" data-ice="link">Directory Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#file-objects" data-ice="link">File Objects</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/codecs.html"><a href="manual/codecs.html" data-ice="link">Data Codecs</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#read-data-files" data-ice="link">Read Data Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#write-data-files" data-ice="link">Write Data Files</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/config_files.html"><a href="manual/config_files.html" data-ice="link">Configuration Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-object" data-ice="link">Config Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-directory" data-ice="link">Config Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#multiple-config-directories" data-ice="link">Multiple Config Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#loading-a-config-file" data-ice="link">Loading a Config File</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#javascript-files" data-ice="link">Javascript Files</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#yaml-or-json-files" data-ice="link">YAML or JSON Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#configuration-options" data-ice="link">Configuration Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#benefits" data-ice="link">Benefits</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/library_modules.html"><a href="manual/library_modules.html" data-ice="link">Library Modules</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-object" data-ice="link">Library Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-directory" data-ice="link">Library Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#multiple-library-directories" data-ice="link">Multiple Library Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#loading-a-library-module" data-ice="link">Loading a Library Module</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#configuration-options" data-ice="link">Configuration Options</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/data_paths.html"><a href="manual/data_paths.html" data-ice="link">Data Paths</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#config-files" data-ice="link">Config Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#optional-items" data-ice="link">Optional Items</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#quoted-path-segments" data-ice="link">Quoted Path Segments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#javascript-library-exports" data-ice="link">Javascript Library Exports</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#navigating-your-own-data" data-ice="link">Navigating Your Own Data</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="library-modules">Library Modules</h1><p>The <a href="../class/src/Badger/Library.js~Library">Library</a> module is similar to the
<a href="../class/src/Badger/Config.js~Config">Config</a> module except that it's designed to
work only with Javascript files.</p>
<ul>
<li><a href="#library-object">Library Object</a></li>
<li><a href="#library-directory">Library Directory</a></li>
<li><a href="#multiple-library-directories">Multiple Library Directories</a></li>
<li><a href="#loading-a-library-module">Loading a Library Module</a></li>
<li><a href="#data-path">Data Path</a></li>
<li><a href="#configuration-options">Configuration Options</a></li>
</ul>
<h2 id="library-object">Library Object</h2><p>Create a library directory specifying one or more directories where your code is located.
Then call the <code>library()</code> method to load a <code>.js</code> or <code>.mjs</code> module from any of those
directories.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { Library } from '@abw/badger'

const library = new Library(
  ['src', 'lib']
)

// load first of src/Example.js, src/Example.mjs, lib/Example.js or lib/Example.mjs
library.library('Example').then(
  exports =&gt; {
    // do something with your code exports here
  }
)</code></code></pre>
<p>The Promise returned fulfills to an object containing all the exports from your library
module.</p>
<h2 id="library-directory">Library Directory</h2><p>When you create a new <code>Library</code> object you should specify the name of the
library directory or directories relative to your current location.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const library = new Library('library')</code></code></pre>
<p>You can specify it as a string as shown above, or using a
<a href="../class/src/Badger/Filesystem/Directory.js~Directory">Directory</a> object as
shown in the earlier examples. For example, if you have a script in the <code>bin</code>
directory and you want to load configuration files from the <code>config</code> directory
located alongside it then you can do something like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { bin, Library } from '@abw/badger'

const library = new Library(
  bin(import.meta.url).parent().dir('library')
)</code></code></pre>
<p>Or more succinctly like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { bin, Library } from '@abw/badger'

const library = new Library(
  bin(import.meta.url).dir('../library')
)</code></code></pre>
<h2 id="multiple-library-directories">Multiple Library Directories</h2><p>If you have multiple locations that you want to read library files
from then you can specify them as an array.  The values of the array can be
either Directory objects or strings, or a mixture of the two.  For example if
you want to load modules from the <code>src</code> and <code>lib</code> directories then you could do this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const rootDir = bin(import.meta.url).parent()

const library = new Library(
  [rootDir.dir('src'), rootDir.dir('lib')]
)</code></code></pre>
<h2 id="loading-a-library-module">Loading a Library Module</h2><p>The <code>library()</code> method expects the basename (i.e. no file extension) of a file
in your library directory (or one of them).</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// load the badger.(js|mjs) file
library.library('badger').then(
  badger =&gt; {
    // do something with whatever badger exports here
  }
)</code></code></pre>
<p>It returns a Promise which fulfills with all the exports from your module.</p>
<h2 id="data-path">Data Path</h2><p>If you want to access a particular export then you can specify it as a data path
fragment following the file name.  Separate the file name and data path fragment
with a <code>#</code>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// load the default export from the badger.(js|mjs) file
library.library('badger#default').then(
  badger =&gt; {
    // do something with the default badger export here
  }
)</code></code></pre>
<p>See the <a href="./manual/data_paths">Data Paths</a> documentation for further information.</p>
<h2 id="configuration-options">Configuration Options</h2><p>The <code>jsExt</code> configuration option can be used to change the file extensions
that are recognised for Javascript files (<code>['js', 'mjs']</code> by default).</p>
<p>For example, if you only want to look for <code>.js</code> Javascript files and <code>.json</code>
data files then you would set the options like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const libary = new Library(
  rootDir.dir('lib'),
  {
    jsExt:  ['js'],
  };
)</code></code></pre>
<p>Or, given that you now only have one value for <code>jsExt</code> you
could do it like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const library = new Library(
  rootDir.dir('lib'),
  {
    jsExt:  'js',
  };
)</code></code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>


</body></html>