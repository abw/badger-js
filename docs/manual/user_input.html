<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Badger</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-badger.css"><meta name="description" content="Component based framework and utility modules"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Badger"><meta property="twitter:description" content="Component based framework and utility modules"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.svg" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/abw/badger-js"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#warning" data-ice="link">Warning</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/filesystem.html"><a href="manual/filesystem.html" data-ice="link">Filesystem Utilities</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directories" data-ice="link">Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#reading-files" data-ice="link">Reading Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#writing-files" data-ice="link">Writing Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#directory-object" data-ice="link">Directory Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/filesystem.html"><a href="manual/filesystem.html#file-objects" data-ice="link">File Objects</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/codecs.html"><a href="manual/codecs.html" data-ice="link">Data Codecs</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#read-data-files" data-ice="link">Read Data Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/codecs.html"><a href="manual/codecs.html#write-data-files" data-ice="link">Write Data Files</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/config_files.html"><a href="manual/config_files.html" data-ice="link">Configuration Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-object" data-ice="link">Config Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#config-directory" data-ice="link">Config Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#multiple-config-directories" data-ice="link">Multiple Config Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#loading-a-config-file" data-ice="link">Loading a Config File</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#javascript-files" data-ice="link">Javascript Files</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/config_files.html"><a href="manual/config_files.html#yaml-or-json-files" data-ice="link">YAML or JSON Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#configuration-options" data-ice="link">Configuration Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/config_files.html"><a href="manual/config_files.html#benefits" data-ice="link">Benefits</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/library_modules.html"><a href="manual/library_modules.html" data-ice="link">Library Modules</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-object" data-ice="link">Library Object</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#library-directory" data-ice="link">Library Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#multiple-library-directories" data-ice="link">Multiple Library Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#loading-a-library-module" data-ice="link">Loading a Library Module</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#data-path" data-ice="link">Data Path</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/library_modules.html"><a href="manual/library_modules.html#configuration-options" data-ice="link">Configuration Options</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/data_paths.html"><a href="manual/data_paths.html" data-ice="link">Data Paths</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#config-files" data-ice="link">Config Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#optional-items" data-ice="link">Optional Items</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#quoted-path-segments" data-ice="link">Quoted Path Segments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#javascript-library-exports" data-ice="link">Javascript Library Exports</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/data_paths.html"><a href="manual/data_paths.html#navigating-your-own-data" data-ice="link">Navigating Your Own Data</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/workspace.html"><a href="manual/workspace.html" data-ice="link">Workspace</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#workspace-directory" data-ice="link">Workspace Directory</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#directories" data-ice="link">Directories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#files" data-ice="link">Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#configuration-files" data-ice="link">Configuration Files</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#javascript-libraries" data-ice="link">Javascript Libraries</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#javascript-components" data-ice="link">Javascript Components</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/workspace.html"><a href="manual/workspace.html#configuration-options" data-ice="link">Configuration Options</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/user_input.html"><a href="manual/user_input.html" data-ice="link">User Input</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#user-input" data-ice="link">User Input</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#command-line-arguments" data-ice="link">Command Line Arguments</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#simple-options-example" data-ice="link">Simple Options Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#special-options" data-ice="link">Special Options</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#commands" data-ice="link">Commands</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#sections" data-ice="link">Sections</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/user_input.html"><a href="manual/user_input.html#generated-configuration" data-ice="link">Generated Configuration</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html" data-ice="link">Miscellaneous Functions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#ansi-colors" data-ice="link">ANSI Colors</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#debugging" data-ice="link">Debugging</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#exit" data-ice="link">Exit</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#app-status" data-ice="link">App Status</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/miscellaneous.html"><a href="manual/miscellaneous.html#progress" data-ice="link">Progress</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="user-input">User Input</h1><p>There are a number of function to help with processing command line arguments
and getting input from users. Some of them are quick and easy functions of
convenience to make simple things simple.  At the other end of the scale the
<a href="function#static-function-options">options</a> function provides an integrated
way to process command line arguments
(using <a href="https://www.npmjs.com/package/commander">commander</a>)
and prompt the user for any missing configuration options
(using <a href="https://www.npmjs.com/package/prompts">prompts</a>).</p>
<ul>
<li><a href="#user-input">User Input</a></li>
<li><a href="#command-line-arguments">Command Line Arguments</a></li>
<li><a href="#simple-example">Simple Options Example</a></li>
<li><a href="#special-options">Special Options</a></li>
<li><a href="#commands">Commands</a></li>
<li><a href="#sections">Sections</a></li>
<li><a href="#generated-configuration">Generated Configuration</a></li>
</ul>
<h2 id="user-input">User Input</h2><p>The <a href="function#static-function-prompt">prompt()</a> is a quick-and-easy way to
ask a user to enter some input.  It is implemented as a wrapper around the
<a href="https://www.npmjs.com/package/prompts">prompt</a> module.</p>
<p>The first argument is the question to ask the user.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { prompt } from '@abw/badger'

const name = await prompt("What is your name?");
console.log('Hello ', name);</code></code></pre>
<p>An optional second argument can be the default answer:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const name = await prompt("What is your name?", 'Mr Badger');</code></code></pre>
<p>This is a convenient short-hand for passing an object with a <code>default</code>
property.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const name = await prompt("What is your name?", { default: 'Mr Badger' });</code></code></pre>
<p>The <a href="function#static-function-confirm">confirm()</a> function allows you to
prompt the user to confirm an action by pressing <code>y</code> for <code>yes</code> or <code>n</code> for
<code>no</code>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { confirm } from '@abw/badger'

const yes = await confirm("Are you sure?");
console.log('You said "%s"', yes ? 'YES' : 'NO');</code></code></pre>
<p>The default answer is <code>N</code>, returning a <code>false</code> value, but you can pass
<code>true</code> as the second argument to make <code>Y</code> the default.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const yes = await confirm("Are you sure?", true);
console.log('You said "%s"', yes ? 'YES' : 'NO');</code></code></pre>
<p>The <a href="function#static-function-select">select()</a> function is another wrapper
of convenience for getting the user to select an option from a list.  Here
the second argument should be an array of options, with each as an object
containing a <code>title</code> and <code>value</code>, or you can pass an object where each keys
is a <code>value</code> mapped to a <code>title</code>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { select } from '@abw/badger'

const animal = await select(
  'What is your favourite animal?',
  {
    aardvark: 'An amazing aardvark',
    badger:   'A brilliant badger',
    cat:      'A cool cat',
    dog:      'A dapper dog'
  },
  1
);
console.log('You chose:', animal);  // aardvark, badger, cat or dog</code></code></pre>
<p>These are the three functions that I find myself using a lot.  For anything
more complicated you should probably cut out the middle-man and go straight
to <a href="https://www.npmjs.com/package/prompts">prompts</a>.</p>
<h2 id="command-line-arguments">Command Line Arguments</h2><p>If you've got a script that expects a command line argument then the
<a href="function#static-function-cmdLineArg">cmdLineArg()</a> function is your friend.
It will return the first argument from the command line after your script
name.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { cmdLineArg } from '@abw/badger'

const arg = await cmdLineArg();</code></code></pre>
<p>If the script is run like so:</p>
<pre><code class="lang-bash"><code class="source-code prettyprint">$ node your-script.js foo</code></code></pre>
<p>Then the <code>arg</code> variable will be set to <code>foo</code>.  If you don't specify any
command line arguments after the script name then it will be <code>undefined</code>.
If the program can't continue without the argument then you might want to
use the <a href="function#static-function-quit">quit()</a> function to exit with a
helpful message.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const arg = await cmdLineArg();
  || quit('No argument provided')</code></code></pre>
<p>If you pass a message prompt as an argument then the function will prompt
the user to enter a value if there isn't one provided on the command line.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const name = await cmdLineArg('What is your name?')
  || quit('No name provided')
console.log(`Hello ${name}`)</code></code></pre>
<p>Running the script would look something like this:</p>
<pre><code class="lang-bash"><code class="source-code prettyprint">$ node your-script.js
✔ What is your name? … Bobby Badger
Hello Bobby Badger</code></code></pre>
<p>If you want to process several command line arguments then you can use the
<a href="function#static-function-cmdLineArgs">cmdLineArgs()</a> function (note the extra
"s" on the end).  Here the first argument should be an array of prompts for
each argument.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const [forename, surname] = await cmdLineArgs(
  ['What is your first name?', 'What is your surname']
) || quit('No name provided')

console.log(`Hello ${forename} ${surname}`);</code></code></pre>
<p>If you don't specify an prompts then it returns all arguments.</p>
<p>Note that both of the above functions take a copy of the command line
arguments to work with (<code>process.argv.slice(2)</code>).  They don't modify the
original list of argument so if you call either function multiple times then
you'll end up with the same arguments being returned, starting from
<code>process.argv[2]</code> each time.</p>
<p>In this case you should take your own copy of the arguments and pass that as
the second option to the function(s).  You can use the <code>process.argv.slice(2)</code>
trick, or call the <code>cmdLine()</code> function to do it for you with less typing.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { cmdLine, cmdLineArg, cmdLineArgs, quit } from '@abw/badger';

// take a copy of the command line arguments to work with
const args = cmdLine();

const [forename, surname] = await cmdLineArgs(
  ['What is your first name?', 'What is your surname'],
  args
) || quit('No name provided')

const age = await cmdLineArg(
  `Hello ${forename} ${surname}, how old are you?`,
  args
) || quit('No age provided')

console.log(`${age} is a fine age`);</code></code></pre>
<p>You can run this script with no arguments, one argument (forename), two
arguments (forename, surname) or three (forename, surname, age).  It will
prompt you to enter any that you omitted.</p>
<p>If your script supports command line flags (e.g. <code>-v</code> or <code>--verbose</code>) then
the <a href="function#static-function-cmdLineFlags">cmdLineFlags()</a> function can
be used to remove them from an argument list in advance.  This should only
be used in simple cases where you want to detect the presence of a boolean
flag.  It doesn't support flags that expect an argument (although you can
handle this yourself with an <code>on</code> handlers, shown below).</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { cmdLineFlags } from '@abw/badger';

const { flags, args } = cmdLineFlags()
console.log('flags:', flags);
console.log('args:', args);</code></code></pre>
<p>Here's an example of the script being run:</p>
<pre><code><code class="source-code prettyprint">$ node flags-example.js -d --verbose foo -x bar
flags: { d: true, verbose: true, x: true }
args: [ 'foo', 'bar' ]</code></code></pre><p>There are a number of configuration options you can pass to the function.
The <code>short</code> option allows you to map short options (e.g. <code>-v</code>) to longer
equivalents (e.g. <code>--verbose</code>).</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    short: {
      v: 'verbose',
      d: 'debug',
    }
  },
);</code></code></pre>
<p>In this case, the <code>-v</code> or <code>--verbose</code> option will result in <code>verbose</code> being
set <code>true</code> in the returned <code>flags</code>.</p>
<p>The <code>options</code> option allows you to specify which options are valid.  You
can specify this as an object, where the valid options are the keys and
corresponding values should be <code>true</code>:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    options: {
      verbose: true,
      debug:   true,
    }
  },
);</code></code></pre>
<p>Or you can use the short-hand form where you pass an array:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    options: ['verbose', 'debug'],
  },
);</code></code></pre>
<p>Or the even shorter-hand form where you pass a whitespace delimited string:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    options: 'verbose debug',
  },
);</code></code></pre>
<p>If you provide the <code>options</code> option then any flags that aren't explicitly
named will cause an error to be throw.</p>
<p>You can specify the <code>others</code> option to change this behaviour.  Set it to
<code>keep</code> to keep the rogue flag in the argument list, <code>remove</code> to remove it
altogether and pretend it never happened, or <code>collect</code> to accept it and
return it in the flags.  The default value is <code>error</code>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    options: 'verbose debug',
    others:  'keep',
  },
);</code></code></pre>
<p>Here's an example of the earlier script being run with this configuration:</p>
<pre><code><code class="source-code prettyprint">$ node flags-example.js --verbose foo -x bar
flags: { verbose: true }
args: [ 'foo','-x', 'bar' ]</code></code></pre><p>The <code>on</code> option can be used to trigger a function when a flag is detected.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { flags, args } = cmdLineFlags(
  {
    options: 'verbose debug',
    on: {
      help:    () =&gt; quit("Help message..."),
      version: () =&gt; quit("Version 1.2.3"),
      n:       (name, arg, args, flags) =&gt; {
        // Handle something like: -n 
        flags.number = args.shift();
      }
    }
  },
);</code></code></pre>
<p>The <code>on</code> handler will be passed four arguments.  The first is the argument
name with the leading hyphens removed.  If it's a <code>short</code> option (e.g. <code>-v</code>)
which is mapped to a longer name (e.g. <code>verbose</code>) then the longer name will
be passed.  The second argument is the flag as it was specified (e.g. <code>-v</code>
or <code>--verbose</code>).  The third argument is the array of remaining arguments
remaining after the current argument.  The fourth argument is an object
containing the flags collected so far.  You can modify the arguments list
or the flags if you want to.</p>
<p>The function should return <code>true</code> if it has handled the argument and no
further processing needs to be done.  If it doesn't return a true value then
processing of the flag continues as normal.</p>
<p>Options that have <code>on</code> handlers don't need to be explicitly listed in the
<code>options</code> list.</p>
<h2 id="simple-options-example">Simple Options Example</h2><p>When you have multiple arguments and/or flags then
<a href="function#static-function-options">options</a> function may be a better choice.
It handles the logic of processing flags, arguments and prompting the user
to enter any that are missing.</p>
<p>This simple example shows how options are specified.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const config = await options({
  name: 'options.js',
  version: '0.0.1',
  description: 'Example showing command line options and prompting',
  options: [
    {
      name:     'database',
      short:    'd',
      about:    'Database',
      type:     'text',
      prompt:   'What is the name of the database?',
      required: true,
    },
    {
      name:     'username',
      short:    'u',
      about:    'Username',
      type:     'text',
      prompt:   'What is the database username?',
    },
    {
      name:     'password',
      short:    'p',
      about:    'Password',
      type:     'password',
      prompt:   'What is the database password?',
    },
  ]
});
console.log('config: ', config);</code></code></pre>
<p>Run the script with the <code>-h</code> option to view the help.</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">Usage: options.js [options]

Example showing command line options and prompting

Options:
  -V, --version              output the version number
  -d, --database &lt;text&gt;      Database
  -u, --username &lt;text&gt;      Username
  -p, --password &lt;password&gt;  Password
  -h, --help                 display help for command</code></code></pre>
<p>The <code>name</code>, <code>version</code> and <code>description</code> are optional items that will be displayed in
the help.</p>
<p>The <code>options</code> array defines the valid options.  Each can have a <code>name</code> which is
accessible as the "long option", e.g. <code>--database</code>, <code>--username</code> and <code>--password</code>,
and a <code>short</code> option, e.g. <code>-d</code>, <code>-u</code> and <code>-p</code>.  The <code>about</code> item provides information
about the option.</p>
<p>After processing the command line arguments, the function will prompt the user to
confirm any values specified as arguments, and enter any missing values.  The <code>prompt</code>
item is used to prompt the user.  If this is omitted then the user will not be prompted
to enter a value.  The <code>type</code> can be set to one of the <a href="https://www.npmjs.com/package/prompts#-types">types provided by the prompts
package</a>.  The <code>required</code> option can be
set <code>true</code> to force the user to enter a value.</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">$ node examples/options.js -d wibble
✔ What is the name of the database? … wibble
✔ What is the database username? …
✔ What is the database password? …</code></code></pre>
<h2 id="special-options">Special Options</h2><p>The <code>yes</code> configuration item can be specified to have the <code>-y</code> / <code>--yes</code>
optional automatically added.  When this is specifed on the command line the
function will automatically accept the default answer.</p>
<p>The <code>verbose</code> configuration item can be specified to have the <code>-v</code> / <code>--verbose</code>
optional automatically added.  When this is specifed on the command line the
function will print additional output.</p>
<p>The <code>quiet</code> configuration item can be specified to have the <code>-q</code> / <code>--quiet</code>
optional automatically added.  When this is specifed on the command line the
function will suppress any optional output.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const config = await options({
  name: 'options.js',
  description: 'Example showing command line options and prompting',
  version: '0.0.1',
  yes: true,
  verbose: true,
  quiet: true,
  options: [
    ...
  ]
})</code></code></pre>
<pre><code class="lang-sh"><code class="source-code prettyprint">$ node examples/options.js -h
Usage: options.js [options]

Example showing command line options and prompting

Options:
  -V, --version              output the version number
  -y, --yes                  Accept default answers
  -v, --verbose              Verbose output
  -q, --quiet                Quiet output
  -d, --database &lt;text&gt;      Database
  -u, --username &lt;text&gt;      Username
  -p, --password &lt;password&gt;  Password
  -h, --help                 display help for command</code></code></pre>
<h2 id="commands">Commands</h2><p>You can also add <code>commands</code> to the configuration. For example, you might
have a script where you want to <code>start</code> or <code>stop</code> one or more services.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const config = await options({
  name: 'commands.js',
  description: 'Example showing command line commands',
  version: '0.0.1',
  verbose: true,
  quiet: true,
  commands: [
    {
      name:    'start',
      pattern: '&lt;service&gt;',
      about:   'Start a service'
    },
    {
      name:     'stop',
      pattern:  '&lt;service&gt;',
      about:    'Stop a service'
    },
    {
      name:     'status',
      about:    'Show service status'
    }
  ]
})</code></code></pre>
<p>When run with the <code>-h</code> option the output will be:</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">$ node examples/commands.js -h
Usage: commands.js [options] [command]

Example showing command line commands.

Options:
  -V, --version       output the version number
  -v, --verbose       Verbose output
  -q, --quiet         Quiet output
  -h, --help          display help for command

Commands:
  start &lt;service&gt;  Start a service
  stop &lt;service&gt;   Stop a service
  status           Show service status
  help [command]   display help for command</code></code></pre>
<p>If a command should accept multiple arguments then define the pattern
using ellipses.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const config = await options({
  // ...etc...
  commands: [
    {
      name:    'start',
      pattern: '&lt;service...&gt;',
      about:   'Start one or more services'
    },
    // ...etc...
  ]
})</code></code></pre>
<h2 id="sections">Sections</h2><p>If you have lots of questions then you might want to break them up
into sections.  Add an item to the <code>options</code> array like the following
to print a section title and information.  Both <code>title</code> and <code>info</code> are
optional, so you can omit either one.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">options: [
  {
    title: "Configuration Options",
    info:  "Please answer the following questions.\nPress RETURN to accept defaults."
  },
  ...
]</code></code></pre>
<p>This generates the following output:</p>
<pre><code class="lang-sh"><code class="source-code prettyprint">Configuration Options
---------------------

Please answer the following questions.
Press RETURN to accept defaults.</code></code></pre>
<h2 id="generated-configuration">Generated Configuration</h2><p>The function returns a Promise which fulfills to an object containing the
configuration values.  Each key will be the <code>name</code> of the option or command,
and the corresponding value will be that read from the command line or by
prompting the user.  In the case of <a href="#commands">commands</a> with multiple values
they will be stored as an array.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>


</body></html>